(this.webpackJsonpmeoib=this.webpackJsonpmeoib||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(12),s=n.n(r),o=n(10),i=n(15),u=n.n(i),l=n(18),j=n(3),d=window.kakao,b=function(e){var t=e.coords,n=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.getElementById("map");case 2:n=e.sent,a(t.lat,t.lon,n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(e,t,n){var c={center:new d.maps.LatLng(e,t),level:4};setTimeout((function(){new d.maps.Map(n,c)}),1e3);r(e,t)},r=function(e,t){var n=new d.maps.Polyline({path:[new d.maps.LatLng(e,t),new d.maps.LatLng(36.365243,127.436007)]});return console.log("polyline.getLength():",n.getLength()),n.getLength()};return Object(c.useEffect)((function(){n()}),[]),Object(j.jsxs)("div",{className:"popup",children:[Object(j.jsx)("input",{type:"hidden",name:"otherLat",id:"otherLat"}),Object(j.jsx)("input",{type:"hidden",name:"otherLon",id:"otherLon"}),Object(j.jsx)("div",{id:"map",style:{width:400,height:400,display:"none"}})]})},h=n(57),m=n.n(h).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),O=function(e){var t=e.coords,n=Object(c.useState)(!1),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(null),d=Object(o.a)(i,2),b=d[0],h=d[1],O=function(){var e=Object(l.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t.lat,r=t.lon,m.get("weather?lat=".concat(a,"&lon=").concat(r,"&appid=77371d8edaa624e1334298cf740c7bce&units=metric"));case 2:n=e.sent,c=n.data,h({regieon:c.name,temp:c.main.temp,feels_like:c.main.feels_like,weather:c.weather[0].main,icon:c.weather[0].icon}),s(!0);case 6:case"end":return e.stop()}var a,r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){O()}),[]),Object(j.jsx)(j.Fragment,{children:r?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"weather_box",children:[Object(j.jsx)("div",{className:"weather_icon_box",children:Object(j.jsx)("img",{className:"weather_icon",src:"http://openweathermap.org/img/w/".concat(b.icon,".png"),alt:"\ub0a0\uc528 \uc544\uc774\ucf58"})}),Object(j.jsxs)("p",{className:"weatherText",children:["\ud604\uc7ac \uc704\uce58 ",b.regieon]}),Object(j.jsxs)("p",{className:"weatherText",children:["\uae30\uc628 ",b.temp,"\u02daC"]}),Object(j.jsxs)("p",{className:"weatherText",children:["\uccb4\uac10 ",b.feels_like,"\u02daC"]})]})}):"Can't get the weather"})},p=n(63),f=n(36);n(92),n(101);f.a.initializeApp({apiKey:"AIzaSyBC42chVkeAv0OZaaosfJSxw6cSECqHerU",authDomain:"mies-9b170.firebaseapp.com",projectId:"mies-9b170",storageBucket:"mies-9b170.appspot.com",messagingSenderId:"539673967625",appId:"1:539673967625:web:8ff5ca38849c7fab108cd8",measurementId:"G-T25N9822NR"});var x=f.a,g=(f.a.auth(),f.a.firestore()),v=n(39),w=n(42),N=n(132),C=n(138),S=n(136),k=n(137),y=function(e){var t=e.coords,n=e.user,a=e.onCreate,r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],d=s[1],b=Object(c.useState)(!1),h=Object(o.a)(b,2),m=(h[0],h[1],function(){var e=Object(l.a)(u.a.mark((function e(c){var r,s,o,l,j,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),r=new Date,s=r.getDay(),o=r.getHours(),l=r.getMinutes(),j="",o<13?j="\uc624\uc804":(j="\uc624\ud6c4",o-=12),b={content:i,position:t,timestamp:Date.now(),time:j+" "+o+"\uc2dc "+l+"\ubd84",randomId:Math.floor(101*Math.random()),day:s,dayKor:"\uc624\ub298",reportNum:Number("0"),uid:n.uid},console.log("contentObj:",b),e.next=11,g.collection("\u3141\u3147\u3147\u3147").add(b).then((function(e){console.log("docRef id:",e.id)}));case 11:d(""),a();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"bgCover",children:Object(j.jsx)(N.a,{elevation:3,className:"boardBox",children:Object(j.jsxs)("form",{className:"board",onSubmit:m,children:[Object(j.jsx)(v.a,{className:"boardCloseIcon",icon:w.a,onClick:function(e){return a()}}),Object(j.jsx)("h3",{className:"boardTitle",children:"\ub09c \uc624\ub298 \uc774\ub807\uac8c \uc785\uc5c8\uc5b4!"}),Object(j.jsx)(k.a,{className:"boardInput",placeholder:"\uc624\ub298 \ub0a0\uc528\uc5d0 \ub9de\ub294 \uc637\ucc28\ub9bc\uc744 \uc54c\ub824\uc8fc\uc138\uc694!",value:i,required:!0,autoFocus:!0,onChange:O}),Object(j.jsx)(C.a,{type:"submit",variant:"contained",className:"btnCreate",endIcon:Object(j.jsx)(S.a,{children:"send"}),children:"\uc54c\ub824\uc8fc\uae30"})]})})})},_=function(e){var t=e.onReport,n=e.contentArr,a=e.onThreeReport,r=Object(c.useState)(n.reportNum+1),s=Object(o.a)(r,2),i=s[0],d=(s[1],function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("\uc2e0\uace0\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \ub3d9\uc77c \uac8c\uc2dc\ubb3c\uc5d0 3\ud68c \uc774\uc0c1 \uc2e0\uace0\uac00 \ub418\uba74 \uc228\uae40 \ucc98\ub9ac \ub429\ub2c8\ub2e4."),e.next=3,g.doc("\u3141\u3147\u3147\u3147/".concat(n.id)).update({reportNum:i});case 3:t(),i>=3&&a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(j.jsxs)("div",{className:"reportBox",children:[Object(j.jsx)("h4",{children:"\uc2e0 \uace0"}),Object(j.jsx)(v.a,{className:"reportCloseIcon",icon:w.a,onClick:function(e){return t()}}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{value:"01",onClick:d,children:"1. \ubd88\ucf8c\ud568, \uc695\uc124, \ube44\ud558"}),Object(j.jsx)("li",{value:"02",onClick:d,children:"2. \uad11\uace0"})]})]})},B=function(e){var t=e.contentArr,n=e.isOwner,a=Object(c.useState)(!1),r=Object(o.a)(a,2),s=r[0],i=r[1],d=Object(c.useState)(t.content),b=Object(o.a)(d,2),h=b[0],m=b[1],O=Object(c.useState)(""),p=Object(o.a)(O,2),f=p[0],x=p[1],v=Object(c.useState)(!1),w=Object(o.a)(v,2),N=w[0],C=w[1],S=(new Date).getDay(),k="";k=t.day!==S?"\uc5b4\uc81c ":"\uc624\ub298 ",Object(c.useEffect)((function(){t.reportNum>=3&&C(!0)}),[]);var y=function(){return i((function(e){return!e}))},B=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,g.doc("\u3141\u3147\u3147\u3147/".concat(t.id)).update({content:h});case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc774 \uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?")){e.next=4;break}return e.next=4,g.doc("\u3141\u3147\u3147\u3147/".concat(t.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:s?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("form",{className:"contentBox",onSubmit:B,children:[Object(j.jsx)("input",{className:"",value:h,onChange:function(e){e.preventDefault();var t=e.target.value;m(t)},name:"newContent",placeholder:"\ub0b4\uc6a9\uc744 \uc218\uc815\ud574\uc8fc\uc138\uc694"}),Object(j.jsx)("input",{type:"submit",value:"\uc218\uc815\uc644\ub8cc",className:"formBtn"})]}),Object(j.jsx)("button",{onClick:y,children:"\uc218\uc815\ucde8\uc18c"})]}):N?Object(j.jsx)("div",{className:"contentBox",children:Object(j.jsx)("h4",{children:"\ud574\ub2f9 \uac8c\uc2dc\ubb3c\uc740 \uc2e0\uace0\ub97c 3\ubc88 \uc774\uc0c1 \ubc1b\uc544 \uc228\uae40\ucc98\ub9ac \ub418\uc5c8\uc2b5\ub2c8\ub2e4."})}):Object(j.jsxs)("div",{className:"contentBox",children:[Object(j.jsxs)("p",{className:"content__owner",children:["\ub79c\uc120\uce5c\uad6c ",t.randomId]}),Object(j.jsx)("div",{className:"formBtnBox",children:n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:y,className:"formBtn",children:"\uc218\uc815"}),Object(j.jsx)("button",{onClick:I,className:"formBtn",children:"\uc0ad\uc81c"})]}):Object(j.jsx)("button",{onClick:function(){return x(!0)},className:"formBtn",children:"\uc2e0\uace0"})}),Object(j.jsx)("p",{className:"content__text",children:t.content}),Object(j.jsxs)("p",{className:"content__time",children:[k,t.time]}),f?Object(j.jsx)(_,{report:f,contentArr:t,onReport:function(){return x(!1)},onThreeReport:function(){return C(!0)}}):""]})})},I=n.p+"static/media/mockup.62c58335.png",L=function(e){var t=e.isShowing,n=e.hide,c=e.onAuth;return t?s.a.createPortal(Object(j.jsxs)(a.a.Fragment,{children:[Object(j.jsx)("div",{className:"modal-overlay"}),Object(j.jsx)("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:n,children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(j.jsxs)("div",{className:"authBox",children:[Object(j.jsx)("h4",{className:"authTitle",children:"\uc775\uba85\uc73c\ub85c \ub85c\uadf8\uc778\ud558\uace0 \ub0b4 \uc637\ucc28\ub9bc\uc744 \uc54c\ub824\uc8fc\uc138\uc694!"}),Object(j.jsx)("button",{name:"authBtn",id:"authBtn",onClick:function(e){x.auth().signInAnonymously().then((function(e){console.log("user1 : ",e),c()})).catch((function(e){e.code;var t=e.message;console.log("error Message : ",t)}))},children:"\uc775\uba85\uc73c\ub85c \ub85c\uadf8\uc778"})]})]})})]}),document.body):null},A=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return{isShowing:n,toggle:function(){a(!n)}}},T=n.p+"static/media/meoib_logo.2f4e5b89.png",F=function(e){var t=e.coords,n=Object(c.useState)([]),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),u=Object(o.a)(i,2),l=(u[0],u[1],Object(c.useState)(!1)),d=Object(o.a)(l,2),b=d[0],h=d[1],m=Object(c.useState)(!1),O=Object(o.a)(m,2),f=O[0],v=O[1],w=Object(c.useState)(""),N=Object(o.a)(w,2),C=(N[0],N[1]),S=Object(c.useState)(""),k=Object(o.a)(S,2),_=k[0],T=k[1],F=Object(c.useState)(!0),D=Object(o.a)(F,2),E=D[0],R=D[1],M=A(),J=M.isShowing,P=M.toggle;x.auth().onAuthStateChanged((function(e){if(e){e.uid;T(e)}}));Object(c.useEffect)((function(){g.collection("\u3141\u3147\u3147\u3147").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(p.a)({id:e.id},e.data())}));s(t)}))}),[]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"phoneWrap",children:[Object(j.jsx)("div",{className:"phone",style:{backgroundImage:"url("+I+")"}}),Object(j.jsx)("div",{className:"inner__phone"})]}),Object(j.jsxs)("div",{sytle:{marginTop:30},className:"inner__container",children:[Object(j.jsx)("button",{id:"signOutBtn",onClick:function(){x.auth().signOut().then((function(){console.log("Sign-out successful."),v(!1),R(!0)})).catch((function(e){console.log("signOut error : ",e)}))},children:"LOG OUT"}),Object(j.jsx)("button",{onClick:P,className:"button-default",children:Object(j.jsx)("span",{onClick:function(e){h(!0),console.log("creating : ",b),console.log("auth : ",f),console.log("signOut : ",E)},id:"btnCreate",style:{cursor:"pointer"},children:"\uc54c\ub824\uc8fc\uae30"})}),Object(j.jsx)("div",{className:"contentWrap",children:Object(j.jsx)("div",{className:"inner__contentWrap",children:r.map((function(e){return Object(j.jsx)(B,{contentArr:e,isOwner:e.uid==_.uid},e.id)}))})}),Object(j.jsx)("span",{})]})]}),!f&&E&&b?Object(j.jsx)(L,{isShowing:J,hide:P,onAuth:function(){v(!0),C(_),R(!1)}}):"",f&&b?Object(j.jsx)(y,{coords:t,user:_,onCreate:function(){return h(!1)}}):""]})},D=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("a",{href:"/",className:"logo",children:Object(j.jsx)("img",{alt:"\ub85c\uace0",src:T,id:"logo"})})})};n.p;var E=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){a(e?{lat:e.coords.latitude,lon:e.coords.longitude}:null),u(!0)}))}),[]),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D,{}),i?Object(j.jsx)(b,{coords:n}):"Can't access geolocation",i?Object(j.jsx)(O,{coords:n}):"Can't access geolocation",i?Object(j.jsx)(F,{coords:n}):"Can't access geolocation"]})})};n(99);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root"))},99:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.abf6d963.chunk.js.map