(this.webpackJsonpmeoib=this.webpackJsonpmeoib||[]).push([[0],{104:function(e,t,n){var c={"./01d.jpg":57,"./01n.jpg":58,"./02d.jpg":59,"./02n.jpg":105,"./03d.jpg":60,"./03n.jpg":106,"./04d.jpg":61,"./04n.jpg":107,"./09d.jpg":108,"./09n.jpg":109,"./10d.jpg":110,"./10n.jpg":111,"./11d.jpg":112,"./11n.jpg":113,"./13d.jpg":114,"./13n.jpg":115,"./50d.jpg":116,"./50n.jpg":117,"./dust_bg.jpg":118};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}a.keys=function(){return Object.keys(c)},a.resolve=s,e.exports=a,a.id=104},105:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/02n.d1aa477f.jpg"},106:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/03n.fcf5552c.jpg"},107:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/04n.14ab8299.jpg"},108:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/09d.c09369d0.jpg"},109:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/09n.fa383ca5.jpg"},110:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/10d.994bd009.jpg"},111:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/10n.4872cb7a.jpg"},112:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/11d.581637df.jpg"},113:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/11n.d431c7cd.jpg"},114:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/13d.40e6db1d.jpg"},115:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/13n.00d26e89.jpg"},116:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/50d.f6af9b8e.jpg"},117:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/50n.9be5783c.jpg"},118:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/dust_bg.cbbcb2e5.jpg"},119:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(12),r=n.n(s),o=n(10),i=n(13),u=n.n(i),l=n(17),d=n(3),j=window.kakao,b=new j.maps.services.Geocoder,p=function(e){var t=e.coords,n=e.region,a=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.getElementById("map");case 2:n=e.sent,s(t.lat,t.lon,n),i(t.lon,t.lat,o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(e,t,n){var c={center:new j.maps.LatLng(e,t),level:4};setTimeout((function(){new j.maps.Map(n,c)}),1e3);r(e,t)},r=function(e,t){var n=new j.maps.Polyline({path:[new j.maps.LatLng(e,t),new j.maps.LatLng(36.365243,127.436007)]});return console.log("polyline.getLength():",n.getLength()),n.getLength()},o=function(e,t){if(t===j.maps.services.Status.OK)for(var c=0;c<e.length;c++){if("H"===e[c].region_type){console.log("result : ",e[c].address_name);break}n(e[1])}},i=function(e,t,n){b.coord2RegionCode(e,t,n)};return Object(c.useEffect)((function(){a()}),[]),Object(d.jsxs)("div",{className:"popup",children:[Object(d.jsx)("input",{type:"hidden",name:"otherLat",id:"otherLat"}),Object(d.jsx)("input",{type:"hidden",name:"otherLon",id:"otherLon"}),Object(d.jsx)("div",{id:"map",style:{width:400,height:400,display:"none"}})]})},f=n(62),m=n.n(f).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),O=function(e){var t=e.coords,n=e.bgName,a=e.region,s=Object(c.useState)(!1),r=Object(o.a)(s,2),i=r[0],j=r[1],b=Object(c.useState)(null),p=Object(o.a)(b,2),f=p[0],O=p[1],g=function(){var e=Object(l.a)(u.a.mark((function e(){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s=t.lat,r=t.lon,m.get("weather?lat=".concat(s,"&lon=").concat(r,"&appid=77371d8edaa624e1334298cf740c7bce&units=metric"));case 2:c=e.sent,a=c.data,O({regieon:a.name,temp:a.main.temp,feels_like:a.main.feels_like,weather:a.weather[0].main,icon:a.weather[0].icon}),n(a.weather[0].icon),j(!0);case 7:case"end":return e.stop()}var s,r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){g()}),[]),Object(d.jsx)(d.Fragment,{children:i?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"weather_box",children:[Object(d.jsx)("div",{className:"weather_icon_box",children:Object(d.jsx)("img",{className:"weather_icon",src:"http://openweathermap.org/img/w/".concat(f.icon,".png"),alt:"\ub0a0\uc528 \uc544\uc774\ucf58"})}),Object(d.jsxs)("p",{className:"weatherText",children:["\ud604\uc7ac \uc704\uce58 ",a.address_name]}),Object(d.jsxs)("p",{className:"weatherText",children:["\uae30\uc628 ",f.temp,"\u02daC"]}),Object(d.jsxs)("p",{className:"weatherText",children:["\uccb4\uac10 ",f.feels_like,"\u02daC"]})]})}):"Can't get the weather"})},g=n(68),h=n(36);n(97),n(121);h.a.initializeApp({apiKey:"AIzaSyBC42chVkeAv0OZaaosfJSxw6cSECqHerU",authDomain:"mies-9b170.firebaseapp.com",projectId:"mies-9b170",storageBucket:"mies-9b170.appspot.com",messagingSenderId:"539673967625",appId:"1:539673967625:web:8ff5ca38849c7fab108cd8",measurementId:"G-T25N9822NR"});var x=h.a,v=(h.a.auth(),h.a.firestore()),w=n(39),N=n(42),k=n(152),y=n(158),S=n(156),C=n(157),L=function(e){var t=e.coords,n=e.user,a=e.onCreate,s=Object(c.useState)(""),r=Object(o.a)(s,2),i=r[0],j=r[1],b=Object(c.useState)(!1),p=Object(o.a)(b,2),f=(p[0],p[1],function(){var e=Object(l.a)(u.a.mark((function e(c){var s,r,o,l,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),s=new Date,r=s.getDay(),o=s.getHours(),l=s.getMinutes(),d="",o<13?d="\uc624\uc804":(d="\uc624\ud6c4",o-=12),b={content:i,distance:!0,position:t,timestamp:Date.now(),time:d+" "+o+"\uc2dc "+l+"\ubd84",randomId:Math.floor(101*Math.random()),day:r,dayKor:"\uc624\ub298",reportNum:Number("0"),uid:n.uid},console.log("contentObj:",b),e.next=11,v.collection("\u3141\u3147\u3147\u3147").add(b).then((function(e){console.log("docRef id:",e.id)}));case 11:j(""),a();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,j(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"bgCover",children:Object(d.jsx)(k.a,{elevation:3,className:"boardBox",children:Object(d.jsxs)("form",{className:"board",onSubmit:f,children:[Object(d.jsx)(w.a,{className:"boardCloseIcon",icon:N.a,onClick:function(e){return a()}}),Object(d.jsx)("h3",{className:"boardTitle",children:"\ub09c \uc624\ub298 \uc774\ub807\uac8c \uc785\uc5c8\uc5b4!"}),Object(d.jsx)(C.a,{className:"boardInput",placeholder:"\uc624\ub298 \ub0a0\uc528\uc5d0 \ub9de\ub294 \uc637\ucc28\ub9bc\uc744 \uc54c\ub824\uc8fc\uc138\uc694!",value:i,required:!0,autoFocus:!0,onChange:m}),Object(d.jsx)(y.a,{type:"submit",variant:"contained",className:"btnCreate",endIcon:Object(d.jsx)(S.a,{children:"send"}),children:"\uc54c\ub824\uc8fc\uae30"})]})})})},_=function(e){var t=e.onReport,n=e.contentArr,a=e.onThreeReport,s=Object(c.useState)(n.reportNum+1),r=Object(o.a)(s,2),i=r[0],j=(r[1],function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("\uc2e0\uace0\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \ub3d9\uc77c \uac8c\uc2dc\ubb3c\uc5d0 3\ud68c \uc774\uc0c1 \uc2e0\uace0\uac00 \ub418\uba74 \uc228\uae40 \ucc98\ub9ac \ub429\ub2c8\ub2e4."),e.next=3,v.doc("\u3141\u3147\u3147\u3147/".concat(n.id)).update({reportNum:i});case 3:t(),i>=3&&a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(d.jsxs)("div",{className:"reportBox",children:[Object(d.jsx)("h4",{children:"\uc2e0 \uace0"}),Object(d.jsx)(w.a,{className:"reportCloseIcon",icon:N.a,onClick:function(e){return t()}}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{value:"01",onClick:j,children:"1. \ubd88\ucf8c\ud568, \uc695\uc124, \ube44\ud558"}),Object(d.jsx)("li",{value:"02",onClick:j,children:"2. \uad11\uace0"})]})]})},B=function(e){var t=e.contentArr,n=e.isOwner,a=e.user,s=Object(c.useState)(!1),r=Object(o.a)(s,2),i=r[0],j=r[1],b=Object(c.useState)(t.content),p=Object(o.a)(b,2),f=p[0],m=p[1],O=Object(c.useState)(""),g=Object(o.a)(O,2),h=g[0],x=g[1],w=Object(c.useState)(!1),N=Object(o.a)(w,2),k=N[0],y=N[1];console.log("isOwner : ",n),console.log("uid : ",a.uid);var S=(new Date).getDay(),C="";C=t.day!==S?"\uc5b4\uc81c ":"\uc624\ub298 ";var L=t.distance;Object(c.useEffect)((function(){t.reportNum>=3&&y(!0)}),[]);var B=function(){return j((function(e){return!e}))},I=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,v.doc("\u3141\u3147\u3147\u3147/".concat(t.id)).update({content:f});case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc774 \uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?")){e.next=4;break}return e.next=4,v.doc("\u3141\u3147\u3147\u3147/".concat(t.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:L?Object(d.jsx)(d.Fragment,{children:i?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:"contentBox",onSubmit:I,children:[Object(d.jsx)("input",{className:"",value:f,onChange:function(e){e.preventDefault();var t=e.target.value;m(t)},name:"newContent",placeholder:"\ub0b4\uc6a9\uc744 \uc218\uc815\ud574\uc8fc\uc138\uc694"}),Object(d.jsx)("input",{type:"submit",value:"\uc218\uc815\uc644\ub8cc",className:"formBtn"})]}),Object(d.jsx)("button",{onClick:B,children:"\uc218\uc815\ucde8\uc18c"})]}):k?Object(d.jsx)("div",{className:"contentBox",children:Object(d.jsx)("h4",{children:"\ud574\ub2f9 \uac8c\uc2dc\ubb3c\uc740 \uc2e0\uace0\ub97c 3\ubc88 \uc774\uc0c1 \ubc1b\uc544 \uc228\uae40\ucc98\ub9ac \ub418\uc5c8\uc2b5\ub2c8\ub2e4."})}):Object(d.jsxs)("div",{className:"contentBox",children:[Object(d.jsxs)("p",{className:"content__owner",children:["\ub79c\uc120\uce5c\uad6c ",t.randomId]}),Object(d.jsx)("div",{className:"formBtnBox",children:n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:B,className:"formBtn",children:"\uc218\uc815"}),Object(d.jsx)("button",{onClick:T,className:"formBtn",children:"\uc0ad\uc81c"})]}):Object(d.jsx)("button",{onClick:function(){return x(!0)},className:"formBtn",children:"\uc2e0\uace0"})}),Object(d.jsx)("p",{className:"content__text",children:t.content}),Object(d.jsxs)("p",{className:"content__time",children:[C,t.time]}),h?Object(d.jsx)(_,{report:h,contentArr:t,onReport:function(){return x(!1)},onThreeReport:function(){return y(!0)}}):""]})}):""})},I=n.p+"static/media/mockup.62c58335.png",T=function(e){var t=e.isShowing,n=e.hide,c=e.onAuth;return t?r.a.createPortal(Object(d.jsxs)(a.a.Fragment,{children:[Object(d.jsx)("div",{className:"modal-overlay"}),Object(d.jsx)("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:n,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(d.jsxs)("div",{className:"authBox",children:[Object(d.jsx)("h4",{className:"authTitle",children:"\uc775\uba85\uc73c\ub85c \ub85c\uadf8\uc778\ud558\uace0 \ub0b4 \uc637\ucc28\ub9bc\uc744 \uc54c\ub824\uc8fc\uc138\uc694!"}),Object(d.jsx)("button",{name:"authBtn",id:"authBtn",onClick:function(e){x.auth().signInAnonymously().then((function(e){console.log("user1 : ",e),c()})).catch((function(e){e.code;var t=e.message;console.log("error Message : ",t)}))},children:"\uc775\uba85\uc73c\ub85c \ub85c\uadf8\uc778"})]})]})})]}),document.body):null},A=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return{isShowing:n,toggle:function(){a(!n)}}},E=window.kakao,F=function(e){var t=e.coords,n=Object(c.useState)([]),a=Object(o.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!1),j=Object(o.a)(i,2),b=j[0],p=j[1],f=Object(c.useState)(!1),m=Object(o.a)(f,2),O=m[0],h=m[1],w=Object(c.useState)(""),N=Object(o.a)(w,2),k=(N[0],N[1]),y=Object(c.useState)(""),S=Object(o.a)(y,2),C=S[0],_=S[1],F=Object(c.useState)(!0),D=Object(o.a)(F,2),G=D[0],M=D[1],R=A(),U=R.isShowing,P=R.toggle,H=Object(c.useState)("LOG IN"),J=Object(o.a)(H,2),K=J[0],W=J[1],q=Object(c.useState)(!1),z=Object(o.a)(q,2),V=(z[0],z[1],Object(c.useState)(t)),Z=Object(o.a)(V,2),Q=Z[0],X=(Z[1],Object(c.useState)(!1)),Y=Object(o.a)(X,2),$=Y[0];Y[1];x.auth().onAuthStateChanged((function(e){if(e){e.uid;_(e)}else _("")}));Object(c.useEffect)((function(){v.collection("\u3141\u3147\u3147\u3147").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));r(t)}))}),[]),Object(c.useEffect)((function(){console.log("signBtn : ",$)}),[$]);var ee=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.doc("\u3141\u3147\u3147\u3147/".concat(t.id)).update({distance:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s.map((function(e){var t=new E.maps.Polyline({path:[new E.maps.LatLng(Q.lat,Q.lon),new E.maps.LatLng(e.position.lat,e.position.lon)]});t.getLength()<=2e3?(ee(e,!0),console.log("true - ",t.getLength())):t.getLength()>2e3&&(ee(e,!1),console.log("false - ",t.getLength()))}))}),[Q]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"phoneWrap",children:[Object(d.jsx)("div",{className:"phone",style:{backgroundImage:"url("+I+")"}}),Object(d.jsx)("div",{className:"inner__phone"})]}),Object(d.jsxs)("div",{sytle:{marginTop:30},className:"inner__container",children:[Object(d.jsx)("button",{id:"signOutBtn",onClick:function(){console.log("click btn signOut : ",G),console.log("click btn signBtnText : ",K),"LOG IN"===K?x.auth().signInAnonymously().then((function(e){console.log("logged in user : ",e),h(!0),M(!1),W("LOG OUT")})).catch((function(e){e.code;var t=e.message;console.log("error Message : ",t)})):"LOG OUT"===K&&x.auth().signOut().then((function(){console.log("Sign-out successful."),h(!1),M(!0),W("LOG IN")})).catch((function(e){console.log("signOut error : ",e)}))},children:K}),Object(d.jsx)("button",{onClick:P,className:"button-default",children:Object(d.jsx)("span",{onClick:function(e){p(!0),console.log("creating : ",b),console.log("auth : ",O),console.log("signOut : ",G)},id:"btnCreate",style:{cursor:"pointer"},children:"\uc54c\ub824\uc8fc\uae30"})}),Object(d.jsx)("div",{className:"contentWrap",children:Object(d.jsx)("div",{className:"inner__contentWrap",children:s.map((function(e){return Object(d.jsx)(B,{contentArr:e,isOwner:e.uid==C.uid,user:C,distance:e.distance},e.id)}))})}),Object(d.jsx)("span",{})]})]}),!O&&G&&b?Object(d.jsx)(T,{isShowing:U,hide:P,onAuth:function(){h(!0),k(C),M(!1),W("LOG OUT")}}):"",O&&b?Object(d.jsx)(L,{coords:t,user:C,onCreate:function(){return p(!1)}}):""]})},D=n.p+"static/media/meoib_logo.2f4e5b89.png",G=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("a",{href:"/",className:"logo",children:Object(d.jsx)("img",{alt:"\ub85c\uace0",src:D,id:"logo"})})})};n(57),n(58),n(59),n(60),n(61);var M=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(!1),i=Object(o.a)(r,2),u=i[0],l=i[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),f=b[0],m=b[1],g=Object(c.useState)(""),h=Object(o.a)(g,2),x=h[0],v=h[1],w=Object(c.useState)(""),N=Object(o.a)(w,2),k=N[0],y=N[1],S="";return Object(c.useEffect)((function(){if(""!=f){var e=n(104)("./".concat(f,".jpg"));S=e.default,v("url(".concat(S,")"))}else console.log("bgName is NULL")}),[f]),Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){s(e?{lat:e.coords.latitude,lon:e.coords.longitude}:null),l(!0)}))}),[]),console.log("region : ",k),Object(d.jsx)("div",{className:"App",style:{backgroundImage:x},children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(G,{}),u?Object(d.jsx)(p,{coords:a,region:function(e){return y(e)}}):"Can't access geolocation",u?Object(d.jsx)(O,{coords:a,region:k,bgName:function(e){return m(e)}}):"Can't access geolocation",u?Object(d.jsx)(F,{coords:a}):"Can't access geolocation"]})})};n(119);r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root"))},57:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/01d.4c197882.jpg"},58:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/01n.d2e60154.jpg"},59:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/02d.acfe2e07.jpg"},60:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/03d.d0e612a8.jpg"},61:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/04d.f33b1cb4.jpg"}},[[120,1,2]]]);
//# sourceMappingURL=main.4799533f.chunk.js.map