(this.webpackJsonpmeoib=this.webpackJsonpmeoib||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),r=n(27),s=n.n(r),o=n(6),i=n(8),u=n.n(i),j=n(12),l=n(1),d=window.kakao,b=function(e){var t=e.coords,n=function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.getElementById("map");case 2:n=e.sent,a(t.lat,t.lon,n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(e,t,n){var c={center:new d.maps.LatLng(e,t),level:4};setTimeout((function(){new d.maps.Map(n,c)}),1e3);r(e,t)},r=function(e,t){var n=new d.maps.Polyline({path:[new d.maps.LatLng(e,t),new d.maps.LatLng(36.365243,127.436007)]});return console.log("polyline.getLength():",n.getLength()),n.getLength()};return Object(c.useEffect)((function(){n()}),[]),Object(l.jsxs)("div",{className:"popup",children:[Object(l.jsx)("input",{type:"hidden",name:"otherLat",id:"otherLat"}),Object(l.jsx)("input",{type:"hidden",name:"otherLon",id:"otherLon"}),Object(l.jsx)("div",{id:"map",style:{width:400,height:400,display:"none"}})]})},p=n(28),m=n.n(p).a.create({baseURL:"https://api.openweathermap.org/data/2.5"}),h=function(e){var t=e.coords,n=Object(c.useState)(!1),a=Object(o.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(null),d=Object(o.a)(i,2),b=d[0],p=d[1],h=function(){var e=Object(j.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t.lat,r=t.lon,m.get("weather?lat=".concat(a,"&lon=").concat(r,"&appid=77371d8edaa624e1334298cf740c7bce&units=metric"));case 2:n=e.sent,c=n.data,p({regieon:c.name,temp:c.main.temp,feels_like:c.main.feels_like,weather:c.weather[0].main,icon:c.weather[0].icon}),s(!0);case 6:case"end":return e.stop()}var a,r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){h()}),[]),Object(l.jsx)(l.Fragment,{children:r?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"weather_box",children:[Object(l.jsx)("div",{className:"weather_icon_box",children:Object(l.jsx)("img",{className:"weather_icon",src:"http://openweathermap.org/img/w/".concat(b.icon,".png"),alt:"\ub0a0\uc528 \uc544\uc774\ucf58"})}),Object(l.jsxs)("p",{className:"weatherText",children:["\ud604\uc7ac \uc704\uce58 ",b.regieon]}),Object(l.jsxs)("p",{className:"weatherText",children:["\uae30\uc628 ",b.temp,"\u02daC"]}),Object(l.jsxs)("p",{className:"weatherText",children:["\uccb4\uac10 ",b.feels_like,"\u02daC"]})]})}):"Can't get the weather"})},O=n(31),f=n(15);n(55),n(63);f.a.initializeApp({apiKey:"AIzaSyBC42chVkeAv0OZaaosfJSxw6cSECqHerU",authDomain:"mies-9b170.firebaseapp.com",projectId:"mies-9b170",storageBucket:"mies-9b170.appspot.com",messagingSenderId:"539673967625",appId:"1:539673967625:web:8ff5ca38849c7fab108cd8",measurementId:"G-T25N9822NR"});f.a,f.a.auth();var x=f.a.firestore(),v=n(29),g=n(30),w=function(e){var t=e.coords,n=e.ip,a=e.onCreate,r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],d=s[1],b=Object(c.useState)(!1),p=Object(o.a)(b,2),m=(p[0],p[1],function(){var e=Object(j.a)(u.a.mark((function e(c){var r,s,o,j,l,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),r=new Date,s=r.getDay(),o=r.getHours(),j=r.getMinutes(),l="",o<13?l="\uc624\uc804":(l="\uc624\ud6c4",o-=12),b={ip:n,content:i,position:t,timestamp:Date.now(),time:l+" "+o+"\uc2dc "+j+"\ubd84",randomId:Math.floor(101*Math.random()),day:s,dayKor:"\uc624\ub298"},console.log("contentObj:",b),e.next=11,x.collection("\u3141\u3147\u3147\u3147").add(b).then((function(e){console.log("docRef id:",e.id)}));case 11:d(""),a();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,d(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"bgCover",children:Object(l.jsx)("div",{className:"boardBox",children:Object(l.jsxs)("form",{className:"board",onSubmit:m,children:[Object(l.jsx)(v.a,{className:"boardCloseIcon",icon:g.a,onClick:function(e){return a()}}),Object(l.jsx)("h3",{className:"boardTitle",children:"\ub09c \uc624\ub298 \uc774\ub807\uac8c \uc785\uc5c8\uc5b4!"}),Object(l.jsx)("input",{className:"boardInput",type:"text",placeholder:"\uc624\ub298 \ub0a0\uc528\uc5d0 \ub9de\ub294 \uc637\ucc28\ub9bc\uc744 \uc54c\ub824\uc8fc\uc138\uc694!",value:i,required:!0,autoFocus:!0,onChange:h}),Object(l.jsx)("input",{type:"submit",value:"\uc54c\ub824\uc8fc\uae30",className:"formBtn btnCreate"})]})})})},N=function(e){return Object(l.jsxs)("div",{className:"reportBox",children:[Object(l.jsx)("h4",{children:"\uc2e0 \uace0"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"1. \ubd88\ucf8c\ud568, \uc695\uc124, \ube44\ud558\uac00 \ud3ec\ud568\ub41c \uae00"}),Object(l.jsx)("li",{children:"2. \uad11\uace0"})]})]})},y=function(e){e.key;var t=e.contentArr,n=e.isOwner,a=Object(c.useState)(!1),r=Object(o.a)(a,2),s=r[0],i=r[1],d=Object(c.useState)(t.content),b=Object(o.a)(d,2),p=b[0],m=b[1],h=Object(c.useState)(!1),O=Object(o.a)(h,2),f=O[0],v=O[1],g=(new Date).getDay(),w="";w=t.day!==g?"\uc5b4\uc81c ":"\uc624\ub298 ";var y=function(){return i((function(e){return!e}))},k=function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x.doc("\u3141\u3147\u3147\u3147/".concat(t.id)).update({content:p});case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc774 \uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?")){e.next=4;break}return e.next=4,x.doc("\u3141\u3147\u3147\u3147/".concat(t.id)).delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:s?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("form",{className:"contentBox",onSubmit:k,children:[Object(l.jsx)("input",{className:"",value:p,onChange:function(e){e.preventDefault();var t=e.target.value;m(t)},name:"newContent",placeholder:"\ub0b4\uc6a9\uc744 \uc218\uc815\ud574\uc8fc\uc138\uc694"}),Object(l.jsx)("input",{type:"submit",value:"\uc218\uc815\uc644\ub8cc",className:"formBtn"})]}),Object(l.jsx)("button",{onClick:y,children:"\uc218\uc815\ucde8\uc18c"})]}):Object(l.jsxs)("div",{className:"contentBox",children:[Object(l.jsxs)("p",{className:"content__owner",children:["\ub79c\uc120\uce5c\uad6c ",t.randomId]}),Object(l.jsx)("div",{className:"formBtnBox",children:n?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:y,className:"formBtn",children:"\uc218\uc815"}),Object(l.jsx)("button",{onClick:C,className:"formBtn",children:"\uc0ad\uc81c"})]}):Object(l.jsx)("button",{onClick:function(){v(!0)},className:"formBtn",children:"\uc2e0\uace0"})}),Object(l.jsx)("p",{className:"content__text",children:t.content}),Object(l.jsxs)("p",{className:"content__time",children:[w,t.time]}),f?Object(l.jsx)(N,{report:f}):""]})})},k=n.p+"static/media/mockup.62c58335.png",C=n.p+"static/media/meoib_logo.2f4e5b89.png",S=function(e){var t,n=e.coords,a=Object(c.useState)([]),r=Object(o.a)(a,2),s=r[0],i=r[1],u=Object(c.useState)(""),j=Object(o.a)(u,2),d=j[0],b=j[1],p=Object(c.useState)(!1),m=Object(o.a)(p,2),h=m[0],f=m[1],v=Object(c.useState)(!1),g=Object(o.a)(v,2),N=(g[0],g[1],"\uc54c\ub824\uc8fc\uae30");(t="https://api.ipdata.co?api-key=1ab80a79ea5f35a9d21e9b64415a3e1a08f30b0118f7f44223247e24",fetch(t).then((function(e){return e.json()}))).then((function(e){b(e.ip)})),Object(c.useEffect)((function(){x.collection("\u3141\u3147\u3147\u3147").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(O.a)({id:e.id},e.data())}));i(t)}))}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"phoneWrap",children:[Object(l.jsx)("div",{className:"phone",style:{backgroundImage:"url("+k+")"}}),Object(l.jsx)("div",{className:"inner__phone"})]}),Object(l.jsxs)("div",{sytle:{marginTop:30},className:"inner__container",children:[Object(l.jsx)("span",{onClick:function(e){f(!0),N=""},id:"btnCreate",style:{cursor:"pointer"},children:N}),Object(l.jsx)("div",{className:"contentWrap",children:Object(l.jsx)("div",{className:"inner__contentWrap",children:s.map((function(e){return Object(l.jsx)(y,{contentArr:e,isOwner:e.ip===d},e.id)}))})}),Object(l.jsx)("span",{})]})]}),h?Object(l.jsx)(w,{coords:n,ip:d,onCreate:function(){return f(!1)}}):""]})},_=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("a",{href:"/",className:"logo",children:Object(l.jsx)("img",{alt:"\ub85c\uace0",src:C,id:"logo"})})})};n.p;var B=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){a(e?{lat:e.coords.latitude,lon:e.coords.longitude}:null),u(!0)}))}),[]),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(_,{}),i?Object(l.jsx)(b,{coords:n}):"Can't access geolocation",i?Object(l.jsx)(h,{coords:n}):"Can't access geolocation",i?Object(l.jsx)(S,{coords:n}):"Can't access geolocation"]})})};n(61);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.69a9e52e.chunk.js.map